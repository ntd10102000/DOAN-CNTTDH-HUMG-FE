{"remainingRequest":"D:\\Learn\\HUMG\\Do_An_Thay_Ngoc\\Practice\\vue-3-authentication-jwt\\node_modules\\babel-loader\\lib\\index.js!D:\\Learn\\HUMG\\Do_An_Thay_Ngoc\\Practice\\vue-3-authentication-jwt\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Learn\\HUMG\\Do_An_Thay_Ngoc\\Practice\\vue-3-authentication-jwt\\src\\store\\auth.module.js","dependencies":[{"path":"D:\\Learn\\HUMG\\Do_An_Thay_Ngoc\\Practice\\vue-3-authentication-jwt\\src\\store\\auth.module.js","mtime":1627978834108},{"path":"D:\\Learn\\HUMG\\Do_An_Thay_Ngoc\\Practice\\vue-3-authentication-jwt\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Learn\\HUMG\\Do_An_Thay_Ngoc\\Practice\\vue-3-authentication-jwt\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Learn\\HUMG\\Do_An_Thay_Ngoc\\Practice\\vue-3-authentication-jwt\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBBdXRoU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9hdXRoLnNlcnZpY2UnOwp2YXIgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSk7CnZhciBpbml0aWFsU3RhdGUgPSB1c2VyID8gewogIHN0YXR1czogewogICAgbG9nZ2VkSW46IHRydWUKICB9LAogIHVzZXI6IHVzZXIKfSA6IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZEluOiBmYWxzZQogIH0sCiAgdXNlcjogbnVsbAp9OwpleHBvcnQgdmFyIGF1dGggPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogaW5pdGlhbFN0YXRlLAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmxvZ2luKHVzZXIpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICBjb21taXQoJ2xvZ2luU3VjY2VzcycsIHVzZXIpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXNlcik7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbW1pdCgnbG9naW5GYWlsdXJlJyk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgQXV0aFNlcnZpY2UubG9nb3V0KCk7CiAgICAgIGNvbW1pdCgnbG9nb3V0Jyk7CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKF9yZWYzLCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIHJldHVybiBBdXRoU2VydmljZS5yZWdpc3Rlcih1c2VyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgncmVnaXN0ZXJTdWNjZXNzJyk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZS5kYXRhKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29tbWl0KCdyZWdpc3RlckZhaWx1cmUnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgbG9naW5TdWNjZXNzOiBmdW5jdGlvbiBsb2dpblN1Y2Nlc3Moc3RhdGUsIHVzZXIpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gdHJ1ZTsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAogICAgbG9naW5GYWlsdXJlOiBmdW5jdGlvbiBsb2dpbkZhaWx1cmUoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIH0sCiAgICByZWdpc3RlclN1Y2Nlc3M6IGZ1bmN0aW9uIHJlZ2lzdGVyU3VjY2VzcyhzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgIH0sCiAgICByZWdpc3RlckZhaWx1cmU6IGZ1bmN0aW9uIHJlZ2lzdGVyRmFpbHVyZShzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["D:/Learn/HUMG/Do_An_Thay_Ngoc/Practice/vue-3-authentication-jwt/src/store/auth.module.js"],"names":["AuthService","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","auth","namespaced","state","actions","login","commit","then","Promise","resolve","error","reject","logout","register","response","data","mutations","loginSuccess","loginFailure","registerSuccess","registerFailure"],"mappings":";AAAA,OAAOA,WAAP,MAAwB,0BAAxB;AAEA,IAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,IAAMC,YAAY,GAAGL,IAAI,GAAG;AAAEM,EAAAA,MAAM,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAV;AAA8BP,EAAAA,IAAI,EAAJA;AAA9B,CAAH,GAA0C;AAAEM,EAAAA,MAAM,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAV;AAA+BP,EAAAA,IAAI,EAAE;AAArC,CAAnE;AAEA,OAAO,IAAMQ,IAAI,GAAG;AAChBC,EAAAA,UAAU,EAAE,IADI;AAEhBC,EAAAA,KAAK,EAAEL,YAFS;AAGhBM,EAAAA,OAAO,EAAE;AACLC,IAAAA,KADK,uBACaZ,IADb,EACmB;AAAA,UAAhBa,MAAgB,QAAhBA,MAAgB;AACpB,aAAOd,WAAW,CAACa,KAAZ,CAAkBZ,IAAlB,EAAwBc,IAAxB,CACH,UAAAd,IAAI,EAAI;AACJa,QAAAA,MAAM,CAAC,cAAD,EAAiBb,IAAjB,CAAN;AACA,eAAOe,OAAO,CAACC,OAAR,CAAgBhB,IAAhB,CAAP;AACH,OAJE,EAKH,UAAAiB,KAAK,EAAI;AACLJ,QAAAA,MAAM,CAAC,cAAD,CAAN;AACA,eAAOE,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;AACH,OARE,CAAP;AAUH,KAZI;AAaLE,IAAAA,MAbK,yBAac;AAAA,UAAVN,MAAU,SAAVA,MAAU;AACfd,MAAAA,WAAW,CAACoB,MAAZ;AACAN,MAAAA,MAAM,CAAC,QAAD,CAAN;AACH,KAhBI;AAiBLO,IAAAA,QAjBK,2BAiBgBpB,IAjBhB,EAiBsB;AAAA,UAAhBa,MAAgB,SAAhBA,MAAgB;AACvB,aAAOd,WAAW,CAACqB,QAAZ,CAAqBpB,IAArB,EAA2Bc,IAA3B,CACH,UAAAO,QAAQ,EAAI;AACRR,QAAAA,MAAM,CAAC,iBAAD,CAAN;AACA,eAAOE,OAAO,CAACC,OAAR,CAAgBK,QAAQ,CAACC,IAAzB,CAAP;AACH,OAJE,EAKH,UAAAL,KAAK,EAAI;AACLJ,QAAAA,MAAM,CAAC,iBAAD,CAAN;AACA,eAAOE,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;AACH,OARE,CAAP;AAUH;AA5BI,GAHO;AAiChBM,EAAAA,SAAS,EAAE;AACPC,IAAAA,YADO,wBACMd,KADN,EACaV,IADb,EACmB;AACtBU,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAaA,IAAb;AACH,KAJM;AAKPyB,IAAAA,YALO,wBAKMf,KALN,EAKa;AAChBA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAa,IAAb;AACH,KARM;AASPmB,IAAAA,MATO,kBASAT,KATA,EASO;AACVA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAa,IAAb;AACH,KAZM;AAaP0B,IAAAA,eAbO,2BAaShB,KAbT,EAagB;AACnBA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACH,KAfM;AAgBPoB,IAAAA,eAhBO,2BAgBSjB,KAhBT,EAgBgB;AACnBA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACH;AAlBM;AAjCK,CAAb","sourcesContent":["import AuthService from '../services/auth.service';\r\n\r\nconst user = JSON.parse(localStorage.getItem('user'));\r\nconst initialState = user ? { status: { loggedIn: true }, user } : { status: { loggedIn: false }, user: null };\r\n\r\nexport const auth = {\r\n    namespaced: true,\r\n    state: initialState,\r\n    actions: {\r\n        login({ commit }, user) {\r\n            return AuthService.login(user).then(\r\n                user => {\r\n                    commit('loginSuccess', user);\r\n                    return Promise.resolve(user);\r\n                },\r\n                error => {\r\n                    commit('loginFailure');\r\n                    return Promise.reject(error);\r\n                }\r\n            );\r\n        },\r\n        logout({ commit }) {\r\n            AuthService.logout();\r\n            commit('logout');\r\n        },\r\n        register({ commit }, user) {\r\n            return AuthService.register(user).then(\r\n                response => {\r\n                    commit('registerSuccess');\r\n                    return Promise.resolve(response.data);\r\n                },\r\n                error => {\r\n                    commit('registerFailure');\r\n                    return Promise.reject(error);\r\n                }\r\n            );\r\n        }\r\n    },\r\n    mutations: {\r\n        loginSuccess(state, user) {\r\n            state.status.loggedIn = true;\r\n            state.user = user;\r\n        },\r\n        loginFailure(state) {\r\n            state.status.loggedIn = false;\r\n            state.user = null;\r\n        },\r\n        logout(state) {\r\n            state.status.loggedIn = false;\r\n            state.user = null;\r\n        },\r\n        registerSuccess(state) {\r\n            state.status.loggedIn = false;\r\n        },\r\n        registerFailure(state) {\r\n            state.status.loggedIn = false;\r\n        }\r\n    }\r\n};"]}]}